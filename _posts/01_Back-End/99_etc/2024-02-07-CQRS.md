---
layout: post
title : CQRS 패턴
date  : 2024-02-07
image : cqrs.png
tags  : cqrs
---

## CQRS C*ommand* Q*uery* R*esponsibility* S*egregation*

**CQRS** 패턴은 데이터를 저장 & 수정하는 `Command` 작업과 조회하는 `Query` 작업을 분리하는 패턴으로,
복잡한 도메인 모델의 작업을 분리함으로서, 보다 단순화하고 유연성을 가질 수 있게 하는 목적이 있다.

![CQRS 패턴 기본](/images/cqrs-pattern-01.jpeg)

---

### CQRS 패턴 장단점

#### 장점

| 구분 | 설명 |
| :---: | --- |
| 독립적인 스케일링 | **읽기 작업**과 **쓰기 작업**에 대한 독립적인 스케일링 가능 |
| 최적화된 스키마 구성 | 각 작업에 맞는 다른 스키마 구성 가능 |
| 도메인 모델 단순화 | 복잡한 쓰기 작업 또는 읽기 작업이 분리되면서 도메인 모델 설계 단순화 |
| 보안성 강화 | 분리된 각 작업에 대한 다른 보안 체계 구성을 통한 보안성 강화 |

#### 단점

| 구분 | 설명 |
| :---: | --- |
| 구현 복잡성 | `CQRS` 패턴을 위한 구현 방법과 **이벤트 소싱 패턴**과 같은 추가 개념 포함일 경우, 높은 구현 복잡성 이슈 |
| 데이터 동기화 이슈 | 쓰기 작업의 데이터에 대해 읽기 작업이 일관성이 깨지는 동기화 이슈 |
| 메시징 처리 이슈 | `CQRS` 패턴 구현을 위해 메시징 기법 활용할 경우, 메시징 전달 실패 또는 중복 메시지 처리 이슈 |

---



---

### 출처

- [사바라다는 차곡차곡 - CQRS(Command and Query Responsibility Segregation) 맛보기 - 이론편](https://sabarada.tistory.com/227)
- [임민석의 블로그 - CQRS란 무엇인가?](https://mslim8803.tistory.com/73)

---